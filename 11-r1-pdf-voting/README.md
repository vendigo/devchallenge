# Як запускати

Найпростішим способом запустити application є відкрити проект в Intellij IDEA та запустити main клас Launcher.
Інший варіант: mvn spring-boot:run
Або зібрати виконуваний jar файл та запустити: java -Dfile.encoding=UTF-8 -jar <ім'я jar файлу>
При цьому .pdf файли мають лежати на рівень вище від папки проекту у директорії files/
(Інший шлях можна вказати у файлі application.properties, властивість input.folder)

# Прийняті спрощення тестового завдання

* Додаток використовує графову базу данних Neo4j. Для спрощення запуску використовується embedded база, в реальних умовах
це має бути окремо запущений Neo4j сервер. (Необхідні мінімальні зміни: прибрати залежність на embedded-driver та додати
властивості для доступу до сервера)
* Файли парсяться при кожному запуску. В реальних умовах треба додати механізм трекінгу які файли вже були загружені,
та грузити решту файлів по запиту.
* Відсутній контроль до api (авторизація, обмеження на кількість запитів в одиницю часу).

# Використані технології

* Графова база була обрана через зручність аналізу даних. Для знаходження депутатів які голосують схожим чином можна доволі
легко написати запит на мові Cypher. Також можна будувати складніші запити і знаходити приховані залежності в даних.
* Додаток оснований на фреймворці Spring Boot, який збирає все в один виконуваний jar файл з вбудованим сервером Tomcat.
Це дозволяє запускати додаток на будь якому хості, без потреби налаштування Java веб сервера.
* Для побудови REST API використовується Spring Data REST який будує Hipermedia сервіси з існуючих Spring Data репозиторіїв.
Тобто крім даних API надає службову інформацію (які доступні endpoint-и, посилання на наступну, попередню сторінку, тощо)

# Опис API

API є самодокументованим, тобто зайшовши на корінь: http://localhost:8080 ми можемо бачити доступні endpoint-ти.
Методи які повертають колекцію даних підтримують пейджінацію та сортування.
* /projects/ - список всіх проектів, загружається тільки 1 рівень вкладеності.
* /projects/<id> - конкретний проект, загрується повністю.
* /projects/search/byName?name=<name> - Пошук по імені проекту. Підтримуються плейсхолдери (*)
* /projects/search/bySessionName?name=<name> Пошук по імені сесії. Підтримуються плейсхолдери (*)

Методи для знаходження депутатів що голосують схожим чином:
(По замовчуванню загружається 5 записів, можна передати параметер count)
* /deputies/closest - Пари депутатів що голосують найоднаковіше. 
* /deputies/closest/<name>/ - Депутати що голосують найоднаковіше з даним.
* /deputies/farthest/<name>/ - Депутати що голосують найменш однаково з даним.

# Тести

Додаток покритий integration тестами. В тестову папку підкладується один файл, запускається повноцінний додаток 
і виконуються перевірки правильності роботи API. Загрузка файлів -> Парсинг -> Загрузка в neo4j -> Запити до бази 
через репозиторії.

# Масштабування

Додаток гарно піддається масштабуванню, бо Neo4j підтримує розподіленість на декілька нод, а весь API являється readonly.
Загрузка нових файлів виділяєтья в окремий batch додаток, який пише дані в master ноду, і декілька інстансів додатків з api
можуть бути задеплоєні на різні сервери та дивитися на різні slave інстанси бази даних.